name: Publish NuGet Package

on:
  push:
    branches:
      - main

jobs:
  publish:
    name: build, pack & publish
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Code
      uses: actions/checkout@v3

    - name: Publish NuGet
      uses: brandedoutcast/publish-nuget@v2
      with:
        PROJECT_FILE_PATH: ./src/GithubActionsPractice/ExampleClassLibrary/ExampleClassLibrary.csproj
        NUGET_SOURCE: https://nuget.pkg.github.com/gnalvesteffer
        NUGET_KEY: ${{ secrets.GH_PAT }}